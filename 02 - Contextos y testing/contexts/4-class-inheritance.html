<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>JS Class Inheritance</title>
  </head>
  <body>
    <script>
      class Animal {
        constructor(name) {
          this.speed = 0;
          this.name = name;
        }
        run(speed) {
          this.speed = speed;
          console.log(`${this.name} runs with speed ${this.speed}.`);
        }
        stop() {
          this.speed = 0;
          console.log(`${this.name} stands still.`);
        }
      }

      let animal = new Animal("My animal");
      animal.run(7); // My animal runs with speed 7.
      animal.stop(); // My animal stands still.
  
      // ---

      class Rabbit extends Animal {
        constructor(name, earLength) {
          super(name);
          
          this.earLength = earLength;
        }

        hide() {
          console.log(`${this.name} hides!`);
        }

        // stop() {
        //   console.log('Lleva velocidad', this.speed);
        //   super.stop(); // call parent stop
        //   this.hide(); // and then hide
        // }

        // OJO!! Arrow function no tiene super
        stop() {
          // super.stop()
          // setTimeout(function() {
          //   //super.stop()
          //   this.hide();
          // }, 1000); // ERROR!
          setTimeout(() => {
            super.stop();
            this.hide();
          }, 1000); // call parent stop after 1sec
        }
      }

      // // let rabbit = new Rabbit("White Rabbit");
      let rabbit = new Rabbit("White Rabbit", 10);

      console.log(rabbit);

      rabbit.run(5); // White Rabbit runs with speed 5.
      // rabbit.hide(); // White Rabbit hides!

      rabbit.stop(); // White Rabbit hides!

    </script>
  </body>
</html>
