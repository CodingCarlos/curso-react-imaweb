<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>JS Class Inheritance</title>
  </head>
  <body>
    <script>
      class Animal {
        constructor(name) {
          this.speed = 0;
          this.name = name;
        }

        run(speed) {
          this.speed = speed;
          console.log(`${this.name} echa a correr a ${this.speed}km/h`);
        }

        stop() {
          this.speed = 0;
          console.log(`${this.name} paró en seco`);
        }
      }

      class Conejo extends Animal {
        constructor(name,  earLength) {
          super(name)

          // this.name = name;
          this.earLength = earLength;
        }

        hide() {
          console.log(`${this.name} se escondió.`);
        }

        stop() {
          // super.stop(); 
          // this.hide();
          
          // setTimeout(super.stop, 2000); // El this se va a window.
          // setTimeout(function () {  // Perdemos el contexto del método -> No hay super
          setTimeout(() => {  // Mantenemos el contexto del método, y el this.
            super.stop();
            this.hide();
          }, 1000)
        }

        // run(speed) {
        //   const self = this;
        //   setTimeout(function () {
        //     console.log(self);
        //     Animal.prototype.run.bind(self)(speed);
        //   }, 1000)
        // }
      }

      const calcetines = new Animal('Calcetines');
      const bugs = new Conejo('Bugs', 10);

      // console.log(calcetines instanceof Animal);
      // console.log(calcetines instanceof Conejo);

      // console.log(bugs instanceof Animal);
      // console.log(bugs instanceof Conejo);
      
      // console.log(calcetines);
      // calcetines.run(15);
      // console.log(calcetines);
      // calcetines.stop();
      // console.log(calcetines);

      // console.log(bugs);
      bugs.run(15);
      console.log(bugs);
      // bugs.stop();
      // console.log(bugs);

    </script>
  </body>
</html>
